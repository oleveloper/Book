---
layout: post
title: "Kubernetes_24 DaemonSets"
date: 2023-01-08
last_modified_at: 2023-01-08
categories: [Kubernetes]
tags: [Kubernetes]
---

# DaemonSets
지금까지 ReplicaSet과 Deployments의 도움으로 여러 개의 복제본 애플리케이션을 다양한 Worker node에서 사용할 수 있었다.
데몬셋은 pod의 여러 인스턴스들을 배포하는 데에 도움이 된다는 점에서 레플리카셋과 같다. 
그러나 클러스터의 각 노드에서 pod의 복사본 하나씩을 실행한다는 점에서 차이가 있다.

<img width="500" alt="스크린샷 2023-01-08 오후 10 03 29" src="https://user-images.githubusercontent.com/83587720/211197476-4ad5aa51-ca4b-4af2-a6e7-e90b30047c93.png">

클러스터에 새 노드가 추가될 때마다 pod의 복제본이 새 노드에 자동으로 추가된다. 
그리고 노드가 제거되면 pod도 자동으로 없어진다. 
데몬셋은 pod의 클러스터의 모든 노드에 복사본 한 개를 보장한다. 

그렇다면 데몬셋을 실제로는 어떻게 사용할까?
클러스터 안의 각각의 노드에 모니터링 에이전트 또는 log collector를 배포한다면 클러스터에 대해 더 잘 모니터링 할 수 있다.
데몬셋은 클러스터의 모든 노드에 pod 형태로 모니터링 에이전트를 배포할 수 있으므로 적합하다.

사용자들은 클러스터에 변경 사항이 있는 경우 노드에 모니터링 에이전트를 추가하거나 제거하는 방법에 대해 걱정할 필요가 없다. 
데몬셋이 이것을 처리할 것이다.


