---
layout: post
title: "Kubernetes_14"
date: 2023-01-05
last_modified_at: 2023-01-05
categories: [Kubernetes]
tags: [Kubernetes]
---

# Namespaces

우리는 pod나 deployments, service 등을 클러스터에서 해왔다.    
그리고 이 작업들을 모두 쿠버네티스의 Namespace에서 해왔고, 이 네임스페이스의 이름은 Default namespace이다.    
Default Namespace는 클러스터가 처음 설정될 때 쿠버네티스에 의해 자동으로 생성된다.    

쿠버네티스는 네트워킹 솔루션, DNS 서비스 등 내부에 필요한 것들을 위해 pod와 service를 만든다.     
이러한 서비스를 사용자로부터 분리하고, 실수로 그러한 서비스를 삭제하거나 수정하는 것을 방지하기 위해    
쿠버네티스는 클러스터 시작 시 다른 네임스페이스인 kube-system 아래에 서비스들을 생성한다.    

쿠버네티스가 자동으로 만든 세 번째 네임스페이스를 kube-public이라고 한다.    
여기에서 모든 사용자가 사용할 수 있어야 하는 리소스들이 생성된다.    

학습하거나 작은 환경을 운영하는 경우에는 default namespace에서 계속 작업해도 상관 없지만    
기업 또는 production 목적으로 쿠버네티스 클러스터를 확장하고 사용하는 경우는 네임스페이스 사용을 고려할 수 있다.    

고유한 이름 공간을 만들 수도 있다.        
가령 개발 환경과 운영 환경 모두에 동일한 클러스터를 사용하는 동시에 리소스를 분리하려는 경우    
각 클러스터에 대해 서로 다른 네임스페이스를 생성할 수 있다.    
이렇게 하면 개발 환경에서 작업하는 동안 실수로 운영 환경의 리소스를 수정하지 않을 수 있다.    
이와 같이 각 네임스페이스에는 작업을 수행할 수 있는 유저를 정의하는 고유한 정책이 있을 수 있다.    

각 네임스페이스에 리소스 할당량을 지정할 수도 있다.    
이렇게 하면 각각의 네임스페이스는 일정량이 보장되며, 허용된 제한을 초과하여 사용되지 않는다.    

집 안 사람들이 이름으로 서로를 부르는 것 처럼, 네임스페이스 안의 리소스들은 이름만으로 서로를 지칭할 수 있다.    
필요한 경우 웹 애플리케이션 pod는 다른 네임스페이스의 서비스에도 연결할 수 있다.    
이렇게 하려면 네임스페이스의 이름을 서비스 이름에 추가해야 한다.     


